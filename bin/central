#!/usr/bin/env ruby
# frozen_string_literal: true

# -------------------------------------------------------------------------
# # central - dot files manager licensed under LGPLv3 (see LICENSE file)  |
# # written in Ruby by Dmitry Geurkov (d.geurkov@gmail.com)               |
# -------------------------------------------------------------------------

require 'central'

unless ARGV.empty?
  if ARGV[0] == '-v' || ARGV[0] == '--version' || ARGV[0] == '-version'
    puts 'central v0.2.8'
    exit 0
  end
  if ARGV[0] == '-h' || ARGV[0] == '--help' || ARGV[0] == '-help'
    puts 'central v0.2.8 - created by Dmitry Geurkov (d.geurkov@gmail.com)'
    puts '                 and licensed under LGPLv3'
    puts ''
    puts 'Usage: central [monitor] [path/to/configuration.rb]'
    puts ''
    puts 'Description:   [monitor] - will monitor erb files for changes'
    puts '                           reprocess them automatically, disabled by default'
    puts '               if no [path/to/configuration.rb] is specified'
    puts '               it will use configuration.rb in current working directory'
    exit 0
  end
end
if ARGV[0] == 'monitor'
  ARGV.shift
  run_central(ARGV)
  run_monitors
else
  run_central(ARGV)
end
